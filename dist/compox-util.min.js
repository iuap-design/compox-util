!function(){"use strict";function e(e,t){for(var r=0;r<v.registeredControls.length;r++)if(v.registeredControls[r].className===e)return void 0!==t&&(v.registeredControls[r]=t),v.registeredControls[r];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function r(e,r){return-1!=t(e).indexOf(r)}function o(o,n){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var s=t(o),a=[];if(n)r(o,n)||a.push(e(n));else for(var i=o.className,c=0;c<v.registeredControls.length;c++){var l=v.registeredControls[c];i.indexOf(l.cssClass)>-1&&-1===a.indexOf(l)&&!r(o,l.className)&&a.push(l)}for(var p,c=0,u=a.length;c<u;c++){if(!(p=a[c]))throw new Error("Unable to find a registered component for the given class.");if(!o[p.className]){s.push(p.className),o.setAttribute("data-upgraded",s.join(","));var d=new p.classConstructor(o);v.createdControls.push(d);for(var f=0,m=p.callbacks.length;f<m;f++)p.callbacks[f](o);o[p.className]=d}}}function n(t,r,s){if(void 0===t&&void 0===r)for(var a=0;a<v.registeredControls.length;a++)n(v.registeredControls[a].className,registeredControls[a].cssClass,s);else{var i=t;if(!r){var c=e(i);c&&(r=c.cssClass)}var p;p=s?l(s,r)?[s]:s.querySelectorAll("."+r):document.querySelectorAll("."+r);for(var u=0;u<p.length;u++)o(p[u],i)}}var s=function(e){this.adjustFunc=e},a=function(e){return this.dataTables[e.id]=e,this},i=function(e){return this.dataTables[e]},c=function(){return this.dataTables},l=function(e,t){return!!e&&((!e.nodeName||"#text"!==e.nodeName&&"#comment"!==e.nodeName)&&(void 0===e.classList?u._hasClass?u._hasClass(e,t):$(e).hasClass(t):e.classList.contains(t)))},p=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?t:(t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent?p(e.offsetParent,t):t)},d=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?(t.top+=e.scrollTop||document.documentElement.scrollTop,t.left+=e.scrollLeft||document.documentElement.scrollLeft,t):("INPUT"!=e.tagName&&(t.top+=e.scrollTop,t.left+=e.scrollLeft),e.parentNode?d(e.parentNode,t):t)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=function(e,t){if(!t instanceof Array)throw"arguments is not Array";for(var r=0,o=t.length;r<o;r++)if(e==t[r])return!0;return!1},h=function(e,t){if(e.forEach)e.forEach(function(e,r){t(r,e)});else{if(!(e instanceof Object))return;for(var r in e)t(r,e[r])}};try{NodeList.prototype.forEach=Array.prototype.forEach}catch(e){}String.prototype.lengthb=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.replaceAll=function(e,t){var r=new RegExp(e,"g");return this.replace(r,t)};var v={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(e){if(e)var t=e.el||document.body,r=e.model;"string"==typeof t&&(t=document.body.querySelector(t)),null!=t&&"object"==typeof t||(t=document.body),t.querySelectorAll("[u-meta]").forEach(function(e){if(!e.comp){var t=JSON.parse(e.getAttribute("u-meta"));if(t&&t.type){var o=v.createDataAdapter({el:e,options:t,model:r});o&&(e.adpt=o,e["u-meta"]=o)}}})},addPlug:function(e){var t=e.plug,r=e.name;if(this.plugs||(this.plugs={}),this.plugs[r])throw new Error("plug has exist:"+r);t.compType=r,this.plugs[r]=t},addDataAdapter:function(e){var t=e.adapter,r=e.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[r])throw new Error("dataAdapter has exist:"+r);this.dataAdapters[r]=t},getDataAdapter:function(e){if(e)return this.dataAdapters||(dataAdapters={}),this.dataAdapters[e]},createDataAdapter:function(e){var t=e.options,r=t.type,o=t.id,n=this.dataAdapters[r];if(!n)return null;var s=new n(e);return s.type=r,s.id=o,s},_createComp:function(e){var t=e.options,r=t.type,o=this.plugs[r];if(!o)return null;var n=new o(e);return n.type=r,n},regComp:function(e){var t={classConstructor:e.comp,className:e.compAsString||e.compAsString,cssClass:e.css||e.css,callbacks:[],dependencies:e.dependencies||[]};e.comp.prototype.compType=e.compAsString;for(var r=0;r<this.registeredControls.length;r++){var o=this.registeredControls[r];if(o.cssClass===t.cssClass)throw new Error("The provided cssClass has already been registered: "+o.cssClass);if(o.className===t.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(t)},updateComp:function(e){this._reorderComps();for(var t=0;t<this.registeredControls.length;t++)n(this.registeredControls[t].className,null,e)},_reorderComps:function(){function e(o){if(!m(o,t)){if(o.dependencies.length>0)for(var n=0,s=o.dependencies.length;n<s;n++){var a=r[o.dependencies[n]];e(a)}t.push(o)}}for(var t=[],r={},o=0;o<this.registeredControls.length;o++)r[this.registeredControls[o].className]=this.registeredControls[o];for(var o=0;o<this.registeredControls.length;o++)e(this.registeredControls[o]);this.registeredControls=t}},g=v,y=function(e,t){var r=JSON.parse(e.getAttribute("u-meta"));if(r&&r.type){var o=g.createDataAdapter({el:e,options:r,model:t,app:this});e["u-meta"]=o}return o},A=function(e){var t=null;return h(this.elements,function(r,o){"string"==typeof o&&(o=document.querySelector(o)),o&&o.querySelectorAll("[u-meta]").forEach(function(r){if(r["u-meta"]){var o=r["u-meta"];if(o.id===e)return t=o,!1}})}),t},E=function(e,t){for(var r=this.getComps(t),o=[],n=0;n<r.length;n++)(r[n].dataModel&&r[n].dataModel.id==e||r[n].dataTable&&r[n].dataTable.id==e)&&o.push(r[n]);return o},C=function(e,t){var r=t||this.elements,o=[];return f(r)||(r=[r]),h(r,function(t,r){r&&r.querySelectorAll("[u-meta]").forEach(function(t){if(t["u-meta"]){var r=t["u-meta"];r&&r.type==e&&o.push(r)}})}),o},b=function(e){var t=e||this.elements,r=[];return"string"==typeof t&&(t=document.querySelectorAll(t)),f(t)||t instanceof NodeList||(t=[t]),h(t,function(e,t){t&&t.querySelectorAll("[u-meta]").forEach(function(e){if(e["u-meta"]){var t=e["u-meta"];t&&r.push(t)}})}),r},w=function(e){var t=e.element,r=p(t),o=d(t),n=r.top-o.top,s=document.body.clientHeight,a=document.body.scrollTop;(n>s||n<0)&&(document.body.scrollTop=a+n)},S=!0,I={toString:1};for(var O in I)S=null;S&&(S=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var x=function(e,t){var r,o=arguments;if(o.length>1)for(var n=1;n<o.length;n++)if(r=o[n],e&&r&&"object"==typeof r){var s,a,i;for(s in r)e[s]=r[s];if(S)for(a=S.length;a--;)i=S[a],r.hasOwnProperty&&r.hasOwnProperty(i)&&(e[i]=r[i])}return e};Object.assign||(Object.assign=x);var T={};x(T,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isEdge:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isAndroidPAD:!1,isAndroidPhone:!1,isMac:!1,hasTouch:!1,isMobile:!1}),function(){var e=navigator.userAgent,t=/(msie\s|trident.*rv:)([\w.]+)/,r=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,n=/(chrome)\/([\w.]+)/,s=/version\/([\w.]+).*(safari)/,a=e.toLowerCase(),i={browser:"",version:""},c=t.exec(a);if(null!=c&&(i={browser:"IE",version:c[2]||"0"}),c=r.exec(a),null!=c&&(i={browser:c[1]||"",version:c[2]||"0"}),c=o.exec(a),null!=c&&(i={browser:c[1]||"",version:c[2]||"0"}),c=n.exec(a),null!=c&&(i={browser:c[1]||"",version:c[2]||"0"}),c=s.exec(a),null!=c&&(i={browser:c[2]||"",version:c[1]||"0"}),e.indexOf("Edge")>-1&&(T.isEdge=!0),a.match(/opera.([\d.]+)/)?T.isOpera=!0:"IE"==i.browser&&11==i.version?(T.isIE11=!0,T.isIE=!0):a.match(/chrome\/([\d.]+)/)?(T.isChrome=!0,T.isStandard=!0):a.match(/version\/([\d.]+).*safari/)?(T.isSafari=!0,T.isStandard=!0):a.match(/gecko/)?(T.isFF=!0,T.isStandard=!0):a.match(/msie ([\d.]+)/)?T.isIE=!0:a.match(/firefox\/([\d.]+)/)&&(T.isFF=!0,T.isStandard=!0),a.match(/webkit\/([\d.]+)/)&&(T.isWebkit=!0),a.match(/ipad/i)&&(T.isIOS=!0,T.isIPAD=!0,T.isStandard=!0),a.match(/iphone/i)&&(T.isIOS=!0,T.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(T.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform&&"Win64"!=navigator.platform||(T.isWin=!0),"X11"!=navigator.platform||T.isWin||T.isMac||(T.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(T.isLinux=!0),(a.indexOf("Android")>-1||a.indexOf("android")>-1||a.indexOf("Adr")>-1||a.indexOf("adr")>-1)&&(T.isAndroid=!0),T.version=0,T.isAndroid&&(window.screen.width>=768&&window.screen.width<1024&&(T.isAndroidPAD=!0),window.screen.width<=768&&(T.isAndroidPhone=!0)),T.isIE){var l=parseInt(T.version),p=document.documentMode;null==p?6!=l&&7!=l||(T.isIE8_BEFORE=!0):(7==p?T.isIE8_BEFORE=!0:8==p?T.isIE8=!0:9==p?(T.isIE9=!0,T.isSTANDARD=!0):10==p?(T.isIE10=!0,T.isSTANDARD=!0,T.isIE10_ABOVE=!0):T.isSTANDARD=!0,8==l?T.isIE8_CORE=!0:9==l?T.isIE9_CORE=!0:11==i.version&&(T.isIE11=!0))}"ontouchend"in document&&(T.hasTouch=!0),(T.isIphone||T.isAndroidPhone)&&(T.isMobile=!0)}();var N=T,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e,t){for(var r=this.getComps(e),o=!0,n=[],s=0;s<r.length;s++)if(r[s].doValidate){var a=r[s].doValidate({trueValue:!0,showMsg:!0});a="object"===(void 0===a?"undefined":M(a))?a.passed:a,o=a&&o,a||n.push(r[s])}return t?n:o},P=function(e){for(var t=e.element,r=this.getComps(t),o=!0,n=e.showMsg,s=new Array,a=0;a<r.length;a++)if(r[a].doValidate){var i=r[a].doValidate({trueValue:!0,showMsg:n});if(o&&!i.passed){var c=p(r[a].element);window.scrollTo(0,c.top-80),N.isIPAD&&window.top.scrollTo(0,c.top-80)}o=i.passed&&o,i.passed||s.push(i)}return{passed:o,notPassedArr:s}},D=function(e,t){var r=this.getEnvironment().usercode;r&&localStorage.setItem(r+e,t)},L=function(e){var t=this.getEnvironment().usercode;if(t)return localStorage.getItem(t+e)},R=function(e){var t=this.getEnvironment().usercode;t&&localStorage.removeItem(t+e)},q=function(e,t){localStorage.setItem(e,t)},_=function(e){return localStorage.getItem(e)},k=function(e){localStorage.removeItem(e)},F=function(e,t){sessionStorage.setItem(e,t)},U=function(e){return sessionStorage.getItem(e)},X=function(e){sessionStorage.removeItem(e)},B=function(){return u.core.collectEnvironment()},V=function(e,t){u.core.setClientAttribute(e,t)},H=function(e){return u.core.getClientAttributes()[e]},W={get:"get",post:"post",reqCount:4,createXhr:function(){var e=null;return N.isIE8?e=new ActiveXObject("Microsoft.XMLHTTP"):N.isIE?e=new ActiveXObject("Msxml2.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e},ajax:function(e){var t=e.url,r=e.success,o=void 0==e.async||e.async,n=e.error,s=e.data||{},a=(void 0==e.type?W.post:e.type).toLowerCase();s.compressType;t=W.serializeUrl(t),s=W.serializeParams(s),a==W.get&&null!=s&&(t+="&"+s,s=null);var i=W.createXhr();i.open(a,t,o),a==W.post&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var c=0;o?(i.onreadystatechange=function(){c++,i.readyState==W.reqCount&&W.execBack(i,r,n)},i.send(s)):(i.send(s),W.execBack(i,r,n))},execBack:function(e,t,r){if(200==e.status||304==e.status||4==e.readyState)t(e.responseText,e.status,e);else if(r)r(e.responseText,e.status,e);else{var o="no error callback function!";e.responseText&&(o=e.responseText),alert(o)}},serializeUrl:function(e){var t="cache="+Math.random();return e.indexOf("?")>0?e+="&"+t:e+="?"+t,e},serializeParams:function(e){if(void 0==e||null==e||""==e)return null;if(e.constructor==Object){var t="";for(var r in e)t+=r+"="+encodeURIComponent(e[r])+"&";return t.substring(0,t.length-1)}return e}},J=W.ajax,z=function(e){e=K.call(this,e),J(e)},K=function(e){var t=this;this.serverEventObj=this.serverEvent();var r=e.success,o=e.error,n=e.deferred;return n&&n.resolve||(n={resolve:function(){},reject:function(){}}),e.success=function(e,o,s){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,o,s)?(r.call(null,e),G(e,n)):n.reject()},e.error=function(e,r,s){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,r,s)?(o.call(null,e),G(e,n)):n.reject()},e.data?e.data.environment=ko.utils.stringifyJson(u.core.collectEnvironment()):e.data={environment:ko.utils.stringifyJson(u.core.collectEnvironment())},e},G=function(e,t){t.resolve()},Q=function(){return new ServerEvent(this)},Y=function(e){h(this.elements,function(t,r){r&&r.querySelectorAll("[u-meta]").each(function(){if(this["u-meta"]){var t=this["u-meta"];t.setEnable&&t.setEnable(e)}})})};App.prototype.setAdjustMetaFunc=s,App.prototype.addDataTable=a,App.prototype.getDataTable=i,App.prototype.getDataTables=c,App.prototype.createComp=y,App.prototype.getComp=A,App.prototype.getCompsByDataTable=E,App.prototype.getCompsByType=C,App.prototype.getComps=b,App.prototype.showComp=w,App.prototype.compsValidate=j,App.prototype.compsValidateMultiParam=P,App.prototype.setUserCache=D,App.prototype.getUserCache=L,App.prototype.removeUserCache=R,App.prototype.setCache=q,App.prototype.getCache=_,App.prototype.removeCache=k,App.prototype.setSessionCache=F,App.prototype.getSessionCache=U,App.prototype.removeSessionCache=X,App.prototype.getEnvironment=B,App.prototype.setClientAttribute=V,App.prototype.getClientAttribute=H,App.prototype.ajax=z,App.prototype.serverEvent=Q,App.prototype.setEnable=Y}();
