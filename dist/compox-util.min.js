!function(){"use strict";function e(e,t){for(var r=0;r<g.registeredControls.length;r++)if(g.registeredControls[r].className===e)return void 0!==t&&(g.registeredControls[r]=t),g.registeredControls[r];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function r(e,r){return-1!=t(e).indexOf(r)}function o(o,n){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var s=t(o),a=[];if(n)r(o,n)||a.push(e(n));else for(var i=o.className,p=0;p<g.registeredControls.length;p++){var c=g.registeredControls[p];i.indexOf(c.cssClass)>-1&&-1===a.indexOf(c)&&!r(o,c.className)&&a.push(c)}for(var l,p=0,u=a.length;p<u;p++){if(!(l=a[p]))throw new Error("Unable to find a registered component for the given class.");if(!o[l.className]){s.push(l.className),o.setAttribute("data-upgraded",s.join(","));var d=new l.classConstructor(o);g.createdControls.push(d);for(var f=0,h=l.callbacks.length;f<h;f++)l.callbacks[f](o);o[l.className]=d}}}function n(t,r,s){if(void 0===t&&void 0===r)for(var a=0;a<g.registeredControls.length;a++)n(g.registeredControls[a].className,registeredControls[a].cssClass,s);else{var i=t;if(!r){var p=e(i);p&&(r=p.cssClass)}var l;l=s?c(s,r)?[s]:s.querySelectorAll("."+r):document.querySelectorAll("."+r);for(var u=0;u<l.length;u++)o(l[u],i)}}var s=function(e){this.adjustFunc=e},a=function(e){return this.dataTables[e.id]=e,this},i=function(e){return this.dataTables[e]},p=function(){return this.dataTables},c=function(e,t){return!!e&&((!e.nodeName||"#text"!==e.nodeName&&"#comment"!==e.nodeName)&&(void 0===e.classList?u._hasClass?u._hasClass(e,t):$(e).hasClass(t):e.classList.contains(t)))},l=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?t:(t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent?l(e.offsetParent,t):t)},d=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?(t.top+=e.scrollTop||document.documentElement.scrollTop,t.left+=e.scrollLeft||document.documentElement.scrollLeft,t):("INPUT"!=e.tagName&&(t.top+=e.scrollTop,t.left+=e.scrollLeft),e.parentNode?d(e.parentNode,t):t)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e,t){if(!t instanceof Array)throw"arguments is not Array";for(var r=0,o=t.length;r<o;r++)if(e==t[r])return!0;return!1},m=function(e,t){if(e.forEach)e.forEach(function(e,r){t(r,e)});else{if(!(e instanceof Object))return;for(var r in e)t(r,e[r])}};try{NodeList.prototype.forEach=Array.prototype.forEach}catch(e){}String.prototype.lengthb=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.replaceAll=function(e,t){var r=new RegExp(e,"g");return this.replace(r,t)};var g={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(e){if(e)var t=e.el||document.body,r=e.model;"string"==typeof t&&(t=document.body.querySelector(t)),null!=t&&"object"==typeof t||(t=document.body),t.querySelectorAll("[u-meta]").forEach(function(e){if(!e.comp){var t=JSON.parse(e.getAttribute("u-meta"));if(t&&t.type){var o=g.createDataAdapter({el:e,options:t,model:r});o&&(e.adpt=o,e["u-meta"]=o)}}})},addPlug:function(e){var t=e.plug,r=e.name;if(this.plugs||(this.plugs={}),this.plugs[r])throw new Error("plug has exist:"+r);t.compType=r,this.plugs[r]=t},addDataAdapter:function(e){var t=e.adapter,r=e.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[r])throw new Error("dataAdapter has exist:"+r);this.dataAdapters[r]=t},getDataAdapter:function(e){if(e)return this.dataAdapters||(dataAdapters={}),this.dataAdapters[e]},createDataAdapter:function(e){var t=e.options,r=t.type,o=t.id,n=this.dataAdapters[r];if(!n)return null;var s=new n(e);return s.type=r,s.id=o,s},_createComp:function(e){var t=e.options,r=t.type,o=this.plugs[r];if(!o)return null;var n=new o(e);return n.type=r,n},regComp:function(e){var t={classConstructor:e.comp,className:e.compAsString||e.compAsString,cssClass:e.css||e.css,callbacks:[],dependencies:e.dependencies||[]};e.comp.prototype.compType=e.compAsString;for(var r=0;r<this.registeredControls.length;r++){var o=this.registeredControls[r];if(o.cssClass===t.cssClass)throw new Error("The provided cssClass has already been registered: "+o.cssClass);if(o.className===t.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(t)},updateComp:function(e){this._reorderComps();for(var t=0;t<this.registeredControls.length;t++)n(this.registeredControls[t].className,null,e)},_reorderComps:function(){function e(o){if(!h(o,t)){if(o.dependencies.length>0)for(var n=0,s=o.dependencies.length;n<s;n++){var a=r[o.dependencies[n]];e(a)}t.push(o)}}for(var t=[],r={},o=0;o<this.registeredControls.length;o++)r[this.registeredControls[o].className]=this.registeredControls[o];for(var o=0;o<this.registeredControls.length;o++)e(this.registeredControls[o]);this.registeredControls=t}},v=g,y=function(e,t){var r=JSON.parse(e.getAttribute("u-meta"));if(r&&r.type){var o=v.createDataAdapter({el:e,options:r,model:t,app:this});e["u-meta"]=o,this.comps.push(o)}return o},A=function(e){for(var t=this.getComps(),r=0;r<t.length;r++){var o=t[r];if(o.id==e)return o}return null},C=function(e,t){for(var r=this.getComps(t),o=[],n=0;n<r.length;n++)(r[n].dataModel&&r[n].dataModel.id==e||r[n].dataTable&&r[n].dataTable.id==e)&&o.push(r[n]);return o},E=function(e,t){for(var r=this.getComps(t),o=[],n=0;n<r.length;n++){var s=r[n];s&&s.type==e&&o.push(s)}return o},b=function(e){return e?this.getCompsByElement(e):this.comps},w=function(e){var t=e||this.elements,r=[];return"string"==typeof t&&(t=document.querySelectorAll(t)),f(t)||t instanceof NodeList||(t=[t]),m(t,function(e,t){t&&t.querySelectorAll("[u-meta]").forEach(function(e){if(e["u-meta"]){var t=e["u-meta"];t&&r.push(t)}})}),r},S=function(e){var t=e.element,r=l(t),o=d(t),n=r.top-o.top,s=document.body.clientHeight,a=document.body.scrollTop;(n>s||n<0)&&(document.body.scrollTop=a+n)},I=!0,O={toString:1};for(var x in O)I=null;I&&(I=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var T=function(e,t){var r,o=arguments;if(o.length>1)for(var n=1;n<o.length;n++)if(r=o[n],e&&r&&"object"==typeof r){var s,a,i;for(s in r)e[s]=r[s];if(I)for(a=I.length;a--;)i=I[a],r.hasOwnProperty&&r.hasOwnProperty(i)&&(e[i]=r[i])}return e};Object.assign||(Object.assign=T);var N={};T(N,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isEdge:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isAndroidPAD:!1,isAndroidPhone:!1,isMac:!1,hasTouch:!1,isMobile:!1}),function(){var e=navigator.userAgent,t=/(msie\s|trident.*rv:)([\w.]+)/,r=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,n=/(chrome)\/([\w.]+)/,s=/version\/([\w.]+).*(safari)/,a=e.toLowerCase(),i={browser:"",version:""},p=t.exec(a);if(null!=p&&(i={browser:"IE",version:p[2]||"0"}),p=r.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=o.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=n.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=s.exec(a),null!=p&&(i={browser:p[2]||"",version:p[1]||"0"}),e.indexOf("Edge")>-1&&(N.isEdge=!0),a.match(/opera.([\d.]+)/)?N.isOpera=!0:"IE"==i.browser&&11==i.version?(N.isIE11=!0,N.isIE=!0):a.match(/chrome\/([\d.]+)/)?(N.isChrome=!0,N.isStandard=!0):a.match(/version\/([\d.]+).*safari/)?(N.isSafari=!0,N.isStandard=!0):a.match(/gecko/)?(N.isFF=!0,N.isStandard=!0):a.match(/msie ([\d.]+)/)?N.isIE=!0:a.match(/firefox\/([\d.]+)/)&&(N.isFF=!0,N.isStandard=!0),a.match(/webkit\/([\d.]+)/)&&(N.isWebkit=!0),a.match(/ipad/i)&&(N.isIOS=!0,N.isIPAD=!0,N.isStandard=!0),a.match(/iphone/i)&&(N.isIOS=!0,N.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(N.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform&&"Win64"!=navigator.platform||(N.isWin=!0),"X11"!=navigator.platform||N.isWin||N.isMac||(N.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(N.isLinux=!0),(a.indexOf("Android")>-1||a.indexOf("android")>-1||a.indexOf("Adr")>-1||a.indexOf("adr")>-1)&&(N.isAndroid=!0),N.version=0,N.isAndroid&&(window.screen.width>=768&&window.screen.width<1024&&(N.isAndroidPAD=!0),window.screen.width<=768&&(N.isAndroidPhone=!0)),N.isIE){var c=parseInt(N.version),l=document.documentMode;null==l?6!=c&&7!=c||(N.isIE8_BEFORE=!0):(7==l?N.isIE8_BEFORE=!0:8==l?N.isIE8=!0:9==l?(N.isIE9=!0,N.isSTANDARD=!0):10==l?(N.isIE10=!0,N.isSTANDARD=!0,N.isIE10_ABOVE=!0):N.isSTANDARD=!0,8==c?N.isIE8_CORE=!0:9==c?N.isIE9_CORE=!0:11==i.version&&(N.isIE11=!0))}"ontouchend"in document&&(N.hasTouch=!0),(N.isIphone||N.isAndroidPhone)&&(N.isMobile=!0)}();var M=N,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e,t){for(var r=this.getComps(e),o=!0,n=[],s=0;s<r.length;s++)if(r[s].doValidate){var a=r[s].doValidate({trueValue:!0,showMsg:!0});a="object"===(void 0===a?"undefined":j(a))?a.passed:a,o=a&&o,a||n.push(r[s])}return t?n:o},D=function(e){for(var t=e.element,r=this.getComps(t),o=!0,n=e.showMsg,s=new Array,a=0;a<r.length;a++)if(r[a].doValidate){var i=r[a].doValidate({trueValue:!0,showMsg:n});if(o&&!i.passed){var p=l(r[a].element);window.scrollTo(0,p.top-80),M.isIPAD&&window.top.scrollTo(0,p.top-80)}o=i.passed&&o,i.passed||s.push(i)}return{passed:o,notPassedArr:s}},L=function(e,t){var r=this.getEnvironment().usercode;r&&localStorage.setItem(r+e,t)},R=function(e){var t=this.getEnvironment().usercode;if(t)return localStorage.getItem(t+e)},_=function(e){var t=this.getEnvironment().usercode;t&&localStorage.removeItem(t+e)},k=function(e,t){localStorage.setItem(e,t)},q=function(e){return localStorage.getItem(e)},B=function(e){localStorage.removeItem(e)},F=function(e,t){sessionStorage.setItem(e,t)},U=function(e){return sessionStorage.getItem(e)},X=function(e){sessionStorage.removeItem(e)},V=function(){return u.core.collectEnvironment()},H=function(e,t){u.core.setClientAttribute(e,t)},W=function(e){return u.core.getClientAttributes()[e]},J={get:"get",post:"post",reqCount:4,createXhr:function(){var e=null;return M.isIE8?e=new ActiveXObject("Microsoft.XMLHTTP"):M.isIE?e=new ActiveXObject("Msxml2.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e},ajax:function(e){var t=e.url,r=e.success,o=void 0==e.async||e.async,n=e.error,s=e.data||{},a=(void 0==e.type?J.post:e.type).toLowerCase();s.compressType;t=J.serializeUrl(t),s=J.serializeParams(s),a==J.get&&null!=s&&(t+="&"+s,s=null);var i=J.createXhr();i.open(a,t,o),a==J.post&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var p=0;o?(i.onreadystatechange=function(){p++,i.readyState==J.reqCount&&J.execBack(i,r,n)},i.send(s)):(i.send(s),J.execBack(i,r,n))},execBack:function(e,t,r){if(200==e.status||304==e.status||4==e.readyState)t(e.responseText,e.status,e);else if(r)r(e.responseText,e.status,e);else{var o="no error callback function!";e.responseText&&(o=e.responseText),alert(o)}},serializeUrl:function(e){var t="cache="+Math.random();return e.indexOf("?")>0?e+="&"+t:e+="?"+t,e},serializeParams:function(e){if(void 0==e||null==e||""==e)return null;if(e.constructor==Object){var t="";for(var r in e)t+=r+"="+encodeURIComponent(e[r])+"&";return t.substring(0,t.length-1)}return e}},z=J.ajax,K=function(e){e=G.call(this,e),z(e)},G=function(e){var t=this;this.serverEventObj=this.serverEvent();var r=e.success,o=e.error,n=e.deferred;return n&&n.resolve||(n={resolve:function(){},reject:function(){}}),e.success=function(e,o,s){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,o,s)?(r.call(null,e),Q(e,n)):n.reject()},e.error=function(e,r,s){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,r,s)?(o.call(null,e),Q(e,n)):n.reject()},e.data?e.data.environment=ko.utils.stringifyJson(u.core.collectEnvironment()):e.data={environment:ko.utils.stringifyJson(u.core.collectEnvironment())},e},Q=function(e,t){t.resolve()},Y=function(){return new ServerEvent(this)},Z=function(e){m(this.elements,function(t,r){r&&r.querySelectorAll("[u-meta]").each(function(){if(this["u-meta"]){var t=this["u-meta"];t.setEnable&&t.setEnable(e)}})})};App.prototype.setAdjustMetaFunc=s,App.prototype.addDataTable=a,App.prototype.getDataTable=i,App.prototype.getDataTables=p,App.prototype.createComp=y,App.prototype.getComp=A,App.prototype.getCompsByDataTable=C,App.prototype.getCompsByType=E,App.prototype.getComps=b,App.prototype.getCompsByElement=w,App.prototype.showComp=S,App.prototype.compsValidate=P,App.prototype.compsValidateMultiParam=D,App.prototype.setUserCache=L,App.prototype.getUserCache=R,App.prototype.removeUserCache=_,App.prototype.setCache=k,App.prototype.getCache=q,App.prototype.removeCache=B,App.prototype.setSessionCache=F,App.prototype.getSessionCache=U,App.prototype.removeSessionCache=X,App.prototype.getEnvironment=V,App.prototype.setClientAttribute=H,App.prototype.getClientAttribute=W,App.prototype.ajax=K,App.prototype.serverEvent=Y,App.prototype.setEnable=Z}();
