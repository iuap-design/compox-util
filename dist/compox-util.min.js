!function(){"use strict";function e(e,t){for(var r=0;r<m.registeredControls.length;r++)if(m.registeredControls[r].className===e)return void 0!==t&&(m.registeredControls[r]=t),m.registeredControls[r];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function r(e,r){return-1!=t(e).indexOf(r)}function o(o,s){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var n=t(o),a=[];if(s)r(o,s)||a.push(e(s));else for(var i=o.className,p=0;p<m.registeredControls.length;p++){var c=m.registeredControls[p];i.indexOf(c.cssClass)>-1&&-1===a.indexOf(c)&&!r(o,c.className)&&a.push(c)}for(var l,p=0,d=a.length;p<d;p++){if(!(l=a[p]))throw new Error("Unable to find a registered component for the given class.");if(!o[l.className]){n.push(l.className),o.setAttribute("data-upgraded",n.join(","));var u=new l.classConstructor(o);m.createdControls.push(u);for(var f=0,h=l.callbacks.length;f<h;f++)l.callbacks[f](o);o[l.className]=u}}}function s(t,r,n){if(void 0===t&&void 0===r)for(var a=0;a<m.registeredControls.length;a++)s(m.registeredControls[a].className,registeredControls[a].cssClass,n);else{var i=t;if(!r){var p=e(i);p&&(r=p.cssClass)}var l;l=n?c(n,r)?[n]:n.querySelectorAll("."+r):document.querySelectorAll("."+r);for(var d=0;d<l.length;d++)o(l[d],i)}}var n=function(e){this.adjustFunc=e},a=function(e){return this.dataTables[e.id]=e,this},i=function(e){return this.dataTables[e]},p=function(){return this.dataTables},c=function(e,t){return!!e&&((!e.nodeName||"#text"!==e.nodeName&&"#comment"!==e.nodeName)&&(void 0===e.classList?u._hasClass?u._hasClass(e,t):$(e).hasClass(t):e.classList.contains(t)))},l=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?t:(t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent?l(e.offsetParent,t):t)},d=function(e,t){return t||(t={},t.top=0,t.left=0),e==document.body?(t.top+=e.scrollTop||document.documentElement.scrollTop,t.left+=e.scrollLeft||document.documentElement.scrollLeft,t):("INPUT"!=e.tagName&&(t.top+=e.scrollTop,t.left+=e.scrollLeft),e.parentNode?d(e.parentNode,t):t)},f=function(e,t){if(!t instanceof Array)throw"arguments is not Array";for(var r=0,o=t.length;r<o;r++)if(e==t[r])return!0;return!1},h=function(e,t){if(e.forEach)e.forEach(function(e,r){t(r,e)});else{if(!(e instanceof Object))return;for(var r in e)t(r,e[r])}};try{NodeList.prototype.forEach=Array.prototype.forEach}catch(e){}String.prototype.lengthb=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.replaceAll=function(e,t){var r=new RegExp(e,"g");return this.replace(r,t)};var m={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(e){if(e)var t=e.el||document.body,r=e.model;"string"==typeof t&&(t=document.body.querySelector(t)),null!=t&&"object"==typeof t||(t=document.body),t.querySelectorAll("[u-meta]").forEach(function(e){if(!e.comp){var t=JSON.parse(e.getAttribute("u-meta"));if(t&&t.type){var o=m.createDataAdapter({el:e,options:t,model:r});o&&(e.adpt=o,e["u-meta"]=o)}}})},addPlug:function(e){var t=e.plug,r=e.name;if(this.plugs||(this.plugs={}),this.plugs[r])throw new Error("plug has exist:"+r);t.compType=r,this.plugs[r]=t},addDataAdapter:function(e){var t=e.adapter,r=e.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[r])throw new Error("dataAdapter has exist:"+r);this.dataAdapters[r]=t},getDataAdapter:function(e){if(e)return this.dataAdapters||(dataAdapters={}),this.dataAdapters[e]},createDataAdapter:function(e){var t=e.options,r=t.type,o=t.id,s=this.dataAdapters[r];if(!s)return null;var n=new s(e);return n.type=r,n.id=o,n},_createComp:function(e){var t=e.options,r=t.type,o=this.plugs[r];if(!o)return null;var s=new o(e);return s.type=r,s},regComp:function(e){var t={classConstructor:e.comp,className:e.compAsString||e.compAsString,cssClass:e.css||e.css,callbacks:[],dependencies:e.dependencies||[]};e.comp.prototype.compType=e.compAsString;for(var r=0;r<this.registeredControls.length;r++){var o=this.registeredControls[r];if(o.cssClass===t.cssClass)throw new Error("The provided cssClass has already been registered: "+o.cssClass);if(o.className===t.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(t)},updateComp:function(e){this._reorderComps();for(var t=0;t<this.registeredControls.length;t++)s(this.registeredControls[t].className,null,e)},_reorderComps:function(){function e(o){if(!f(o,t)){if(o.dependencies.length>0)for(var s=0,n=o.dependencies.length;s<n;s++){var a=r[o.dependencies[s]];e(a)}t.push(o)}}for(var t=[],r={},o=0;o<this.registeredControls.length;o++)r[this.registeredControls[o].className]=this.registeredControls[o];for(var o=0;o<this.registeredControls.length;o++)e(this.registeredControls[o]);this.registeredControls=t}},g=m,v=function(e,t){var r=JSON.parse(e.getAttribute("u-meta"));if(r&&r.type){var o=g.createDataAdapter({el:e,options:r,model:t,app:this});e["u-meta"]=o,this.comps.push(o)}return o},y=function(e){for(var t=this.getComps(),r=0;r<t.length;r++){var o=t[r];if(o.id==e)return o}return null},A=function(e,t){for(var r=this.getComps(t),o=[],s=0;s<r.length;s++)(r[s].dataModel&&r[s].dataModel.id==e||r[s].dataTable&&r[s].dataTable.id==e)&&o.push(r[s]);return o},C=function(e,t){for(var r=this.getComps(t),o=[],s=0;s<r.length;s++){var n=r[s];n&&n.type==e&&o.push(n)}return o},E=function(e){return e?this.getCompsByElement(e):this.comps},b=function(e){var t=e.element,r=l(t),o=d(t),s=r.top-o.top,n=document.body.clientHeight,a=document.body.scrollTop;(s>n||s<0)&&(document.body.scrollTop=a+s)},w=!0,S={toString:1};for(var I in S)w=null;w&&(w=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var O=function(e,t){var r,o=arguments;if(o.length>1)for(var s=1;s<o.length;s++)if(r=o[s],e&&r&&"object"==typeof r){var n,a,i;for(n in r)e[n]=r[n];if(w)for(a=w.length;a--;)i=w[a],r.hasOwnProperty&&r.hasOwnProperty(i)&&(e[i]=r[i])}return e};Object.assign||(Object.assign=O);var x={};O(x,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isEdge:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isAndroidPAD:!1,isAndroidPhone:!1,isMac:!1,hasTouch:!1,isMobile:!1}),function(){var e=navigator.userAgent,t=/(msie\s|trident.*rv:)([\w.]+)/,r=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,s=/(chrome)\/([\w.]+)/,n=/version\/([\w.]+).*(safari)/,a=e.toLowerCase(),i={browser:"",version:""},p=t.exec(a);if(null!=p&&(i={browser:"IE",version:p[2]||"0"}),p=r.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=o.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=s.exec(a),null!=p&&(i={browser:p[1]||"",version:p[2]||"0"}),p=n.exec(a),null!=p&&(i={browser:p[2]||"",version:p[1]||"0"}),e.indexOf("Edge")>-1&&(x.isEdge=!0),a.match(/opera.([\d.]+)/)?x.isOpera=!0:"IE"==i.browser&&11==i.version?(x.isIE11=!0,x.isIE=!0):a.match(/chrome\/([\d.]+)/)?(x.isChrome=!0,x.isStandard=!0):a.match(/version\/([\d.]+).*safari/)?(x.isSafari=!0,x.isStandard=!0):a.match(/gecko/)?(x.isFF=!0,x.isStandard=!0):a.match(/msie ([\d.]+)/)?x.isIE=!0:a.match(/firefox\/([\d.]+)/)&&(x.isFF=!0,x.isStandard=!0),a.match(/webkit\/([\d.]+)/)&&(x.isWebkit=!0),a.match(/ipad/i)&&(x.isIOS=!0,x.isIPAD=!0,x.isStandard=!0),a.match(/iphone/i)&&(x.isIOS=!0,x.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(x.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform&&"Win64"!=navigator.platform||(x.isWin=!0),"X11"!=navigator.platform||x.isWin||x.isMac||(x.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(x.isLinux=!0),(a.indexOf("Android")>-1||a.indexOf("android")>-1||a.indexOf("Adr")>-1||a.indexOf("adr")>-1)&&(x.isAndroid=!0),x.version=0,x.isAndroid&&(window.screen.width>=768&&window.screen.width<1024&&(x.isAndroidPAD=!0),window.screen.width<=768&&(x.isAndroidPhone=!0)),x.isIE){var c=parseInt(x.version),l=document.documentMode;null==l?6!=c&&7!=c||(x.isIE8_BEFORE=!0):(7==l?x.isIE8_BEFORE=!0:8==l?x.isIE8=!0:9==l?(x.isIE9=!0,x.isSTANDARD=!0):10==l?(x.isIE10=!0,x.isSTANDARD=!0,x.isIE10_ABOVE=!0):x.isSTANDARD=!0,8==c?x.isIE8_CORE=!0:9==c?x.isIE9_CORE=!0:11==i.version&&(x.isIE11=!0))}"ontouchend"in document&&(x.hasTouch=!0),(x.isIphone||x.isAndroidPhone)&&(x.isMobile=!0)}();var T=x,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){for(var r=this.getComps(e),o=!0,s=[],n=0;n<r.length;n++)if(r[n].doValidate){var a=r[n].doValidate({trueValue:!0,showMsg:!0});a="object"===(void 0===a?"undefined":N(a))?a.passed:a,o=a&&o,a||s.push(r[n])}return t?s:o},P=function(e){for(var t=e.element,r=this.getComps(t),o=!0,s=e.showMsg,n=new Array,a=0;a<r.length;a++)if(r[a].doValidate){var i=r[a].doValidate({trueValue:!0,showMsg:s});if(o&&!i.passed){var p=l(r[a].element);window.scrollTo(0,p.top-80),T.isIPAD&&window.top.scrollTo(0,p.top-80)}o=i.passed&&o,i.passed||n.push(i)}return{passed:o,notPassedArr:n}},j=function(e,t){var r=this.getEnvironment().usercode;r&&localStorage.setItem(r+e,t)},D=function(e){var t=this.getEnvironment().usercode;if(t)return localStorage.getItem(t+e)},L=function(e){var t=this.getEnvironment().usercode;t&&localStorage.removeItem(t+e)},R=function(e,t){localStorage.setItem(e,t)},_=function(e){return localStorage.getItem(e)},k=function(e){localStorage.removeItem(e)},F=function(e,t){sessionStorage.setItem(e,t)},B=function(e){return sessionStorage.getItem(e)},U=function(e){sessionStorage.removeItem(e)},X=function(){return u.core.collectEnvironment()},q=function(e,t){u.core.setClientAttribute(e,t)},V=function(e){return u.core.getClientAttributes()[e]},H={get:"get",post:"post",reqCount:4,createXhr:function(){var e=null;return T.isIE8?e=new ActiveXObject("Microsoft.XMLHTTP"):T.isIE?e=new ActiveXObject("Msxml2.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e},ajax:function(e){var t=e.url,r=e.success,o=void 0==e.async||e.async,s=e.error,n=e.data||{},a=(void 0==e.type?H.post:e.type).toLowerCase();n.compressType;t=H.serializeUrl(t),n=H.serializeParams(n),a==H.get&&null!=n&&(t+="&"+n,n=null);var i=H.createXhr();i.open(a,t,o),a==H.post&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var p=0;o?(i.onreadystatechange=function(){p++,i.readyState==H.reqCount&&H.execBack(i,r,s)},i.send(n)):(i.send(n),H.execBack(i,r,s))},execBack:function(e,t,r){if(200==e.status||304==e.status||4==e.readyState)t(e.responseText,e.status,e);else if(r)r(e.responseText,e.status,e);else{var o="no error callback function!";e.responseText&&(o=e.responseText),alert(o)}},serializeUrl:function(e){var t="cache="+Math.random();return e.indexOf("?")>0?e+="&"+t:e+="?"+t,e},serializeParams:function(e){if(void 0==e||null==e||""==e)return null;if(e.constructor==Object){var t="";for(var r in e)t+=r+"="+encodeURIComponent(e[r])+"&";return t.substring(0,t.length-1)}return e}},W=H.ajax,J=function(e){e=z.call(this,e),W(e)},z=function(e){var t=this;this.serverEventObj=this.serverEvent();var r=e.success,o=e.error,s=e.deferred;return s&&s.resolve||(s={resolve:function(){},reject:function(){}}),e.success=function(e,o,n){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,o,n)?(r.call(null,e),K(e,s)):s.reject()},e.error=function(e,r,n){"string"==typeof e&&(e=JSON.parse(e)),t.serverEventObj.processXHRError(t,e,r,n)?(o.call(null,e),K(e,s)):s.reject()},e.data?e.data.environment=ko.utils.stringifyJson(u.core.collectEnvironment()):e.data={environment:ko.utils.stringifyJson(u.core.collectEnvironment())},e},K=function(e,t){t.resolve()},G=function(){return new ServerEvent(this)},Q=function(e){h(this.elements,function(t,r){r&&r.querySelectorAll("[u-meta]").each(function(){if(this["u-meta"]){var t=this["u-meta"];t.setEnable&&t.setEnable(e)}})})};App.prototype.setAdjustMetaFunc=n,App.prototype.addDataTable=a,App.prototype.getDataTable=i,App.prototype.getDataTables=p,App.prototype.createComp=v,App.prototype.getComp=y,App.prototype.getCompsByDataTable=A,App.prototype.getCompsByType=C,App.prototype.getComps=E,App.prototype.showComp=b,App.prototype.compsValidate=M,App.prototype.compsValidateMultiParam=P,App.prototype.setUserCache=j,App.prototype.getUserCache=D,App.prototype.removeUserCache=L,App.prototype.setCache=R,App.prototype.getCache=_,App.prototype.removeCache=k,App.prototype.setSessionCache=F,App.prototype.getSessionCache=B,App.prototype.removeSessionCache=U,App.prototype.getEnvironment=X,App.prototype.setClientAttribute=q,App.prototype.getClientAttribute=V,App.prototype.ajax=J,App.prototype.serverEvent=G,App.prototype.setEnable=Q}();
